<!DOCTYPE html>
<html lang="en" data-layout-decorator="layout">
<head>
    <meta charset="UTF-8">
    <title>สร้างเครือข่ายใหม่</title>
    <link rel="stylesheet" href="/js/bootstrap-datepicker-thai-thai/css/datepicker.css"/>
</head>
<body>
<div data-layout-fragment="main">
    <!--<ol class="breadcrumb font-supermarket">-->
    <!--<li data-th-text="#{home}">Home</li>-->
    <!--<li class="active" data-th-text="#{newMember}">Form Elements</li>-->
    <!--</ol>-->

    <form method="post" data-th-object="${member}" enctype="multipart/form-data" id="theform">
        <div class="row">
            <div class="col-md-6">
                <h1 class="page-title font-supermarket">
                    <!--data-th-text="#{new}"-->
                    <span>เพิ่ม</span> -
                    <span class="fw-semi-bold" data-th-text="#{member}">Inputs &amp; Controls</span>
                </h1>
            </div>
            <div class="col-md-6 text-right">
                <button type="submit" class="btn btn-primary">
                    <i class="fa fa-check" aria-hidden="true"></i> บันทึก
                </button>
                <button type="button" class="btn btn-inverse"
                        data-th-onclick="'window.location=\'' + @{/member} + '\''">
                    <i class="fa fa-times" aria-hidden="true"></i> ยกเลิก
                </button>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <section class="widget">
                    <div class="widget-body clearfix">
                        <span class="">รหัสสมาชิก</span><br/>
                        <span class="widget-label">X00000001</span>
                    </div>
                </section>
                <section class="widget">
                    <div class="widget-body clearfix">
                        <div class="form-group">
                            <span>
                                รูปประจำตัว
                            </span><br/>
                            <div class="fileinput fileinput-new" data-provides="fileinput"
                                 style="width: 100%; margin-bottom: 0px;">
                                <div class="fileinput-new thumbnail" style="width: 100%; height: 150px;">
                                    <img data-th-if="*{image} == null" data-src="holder.js/100%x100%" alt="..." src="">
                                    <img data-th-if="*{image} != null" data-th-src="*{image.imageUrl}"
                                         class="img-responsive">
                                </div>

                                <div class="fileinput-preview fileinput-exists thumbnail"
                                     style="max-width: 100%; max-height: 150px;"></div>
                                <br/>
                                <div>
                                    <span class="btn btn-default btn-file">
                                        <i class="fa fa-image" aria-hidden="true"></i>
                                        <span class="fileinput-new"> เลือกรูปภาพ</span>
                                        <span class="fileinput-exists"> เปลี่ยนรูปภาพ</span>
                                        <input type="file" name="file[]">
                                    </span>
                                    <a href="#" class="btn btn-danger fileinput-exists" data-dismiss="fileinput">
                                        <i class="fa fa-trash" aria-hidden="true"></i> ลบรูปภาพ</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
            <div class="col-md-9">
                <div class="row">
                    <div class="col-md-12">
                        <div class="clearfix">
                            <ul id="tabs1" class="nav nav-tabs pull-left">
                                <li class="active">
                                    <a data-target="#tab1" data-toggle="tab" aria-expanded="true">ข้อมูลส่วนบุคคล</a>
                                </li>
                                <li class=""><a data-target="#tab2" data-toggle="tab" aria-expanded="false">ข้อมูลการเป็นสมาชิก</a>
                                </li>
                            </ul>
                        </div>
                        <div id="tabs1c" class="tab-content mb-lg">
                            <div class="tab-pane clearfix active" id="tab1">
                                <div class="col-lg-12">
                                    <section class="widget widget-custom-padding">
                                        <div class="widget-body">
                                            <div class="form-horizontal" role="form" method="post">
                                                <fieldset>
                                                    <legend class="section-title">
                                                        <!--<strong data-th-text="#{member}">Horizontal</strong>-->
                                                        <!--<span data-th-text="#{personalDetail}"></span>-->
                                                        <span>ข้อมูลประวัติ</span>
                                                    </legend>
                                                    <br/>
                                                    <div class="row">
                                                        <div class="col-sm-6">
                                                            <!--<input data-th-replace="fragments/TextField :: input (#{memberId}, 'memberId', false)"/>-->
                                                            <input data-th-replace="fragments/SelectField :: select (#{title}, 'title', ${titles}, false)"/>
                                                            <input data-th-replace="fragments/TextField :: input (#{firstName}, 'firstName', true)"/>
                                                            <input data-th-replace="fragments/TextField :: input (#{lastName}, 'lastName', true)"/>
                                                        </div>
                                                        <div class="col-sm-6">
                                                            <!--<input data-th-if="*{id} != null" data-th-replace="fragments/FileField :: file (#{image}, 'file[]', false)"/>-->
                                                            <input data-th-replace="fragments/SelectField :: select (#{status}, 'status', ${status}, false)"/>
                                                            <input data-th-replace="fragments/DateSelect :: dateSelect (#{birthday}, 'birthday', false)"/>
                                                            <input data-th-replace="fragments/TextField :: input (#{citizenId}, 'citizenId', false)"/>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-sm-6">
                                                            <input data-th-replace="fragments/SelectField :: select (#{maritalStatus}, 'maritalStatus', ${maritalStatus}, false)"/>
                                                        </div>
                                                        <div class="col-sm-6">
                                                            <input data-th-replace="fragments/SelectField :: select (#{educationDegrees}, 'educationDegree', ${educationDegrees}, false)"/>
                                                        </div>
                                                    </div>
                                                    <br/>
                                                    <legend class="section-title">
                                                        <!--<strong data-th-text="#{member}">Horizontal</strong>-->
                                                        <span>ข้อมูลการติดต่อ</span>
                                                    </legend>
                                                    <br/>
                                                    <div class="row">
                                                        <div class="col-sm-6">
                                                            <input data-th-replace="fragments/TextField :: input (#{mobile}, 'mobile', true)"/>
                                                            <input data-th-replace="fragments/TextField :: input (#{email}, 'email', false)"/>

                                                        </div>
                                                        <div class="col-sm-6">
                                                            <input data-th-replace="fragments/TextField :: input (#{facebook}, 'facebook', false)"/>
                                                            <input data-th-replace="fragments/TextField :: input (#{line}, 'line', false)"/>
                                                        </div>
                                                    </div>
                                                    <br/>
                                                    <legend class="section-title">
                                                        <!--<strong data-th-text="#{member}">Horizontal</strong>-->
                                                        <span>ข้อมูลที่อยู่อาศัย</span>
                                                    </legend>
                                                    <br/>
                                                    <div class="row">
                                                        <div class="col-sm-12">
                                                            <input data-th-replace="fragments/Address :: address (#{address}, 'address')"/>
                                                        </div>
                                                    </div>


                                                </fieldset>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                            <div class="tab-pane" id="tab2">
                                <div class="col-lg-12">
                                    <section class="widget widget-custom-padding">
                                        <div class="widget-body">
                                            <div class="form-horizontal" role="form" method="post">
                                                <fieldset>
                                                    <legend class="section-title">
                                                        <!--<strong data-th-text="#{member}">Horizontal</strong> -->
                                                        <span data-th-text="#{memberDetail}"></span>
                                                    </legend>
                                                    <input type="hidden" data-th-field="*{membershipTemp.id}">
                                                    <div class="row">
                                                        <div class="col-sm-6">
                                                            <input data-th-replace="fragments/TextField :: input (#{membershipId}, 'membershipTemp.membershipId', false)"/>
                                                        </div>
                                                        <div class="col-sm-6">
                                                            <input data-th-replace="fragments/SelectField :: select (#{yearJoin}, 'membershipTemp.yearJoin', ${yearJoin}, false)"/>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-sm-6">
                                                            <div class="row form-group">
                                                                <label class="col-md-4 form-control-label text-md-right"></label>
                                                                <div class="col-md-7">
                                                                    <div class="checkbox abc-checkbox abc-checkbox-primary">
                                                                        <input id="checkbox2" type="checkbox" checked>
                                                                        <label for="checkbox2">
                                                                            เป็นตัวแทนสมาชิกประจำหมู่บ้าน
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-6">
                                                            <input data-th-replace="fragments/SelectField :: select (#{membershipType}, 'membershipTemp.type', ${memberTypes}, false)"/>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-sm-6">
                                                            <input data-th-replace="fragments/SelectField :: select (#{mainJob}, 'membershipTemp.mainJob', ${jobTypes}, false)"/>
                                                            <input data-th-replace="fragments/SelectField :: select (#{secondJob}, 'membershipTemp.secondJob', ${jobTypes}, false)"/>

                                                        </div>
                                                        <div class="col-sm-6">
                                                            <input data-th-replace="fragments/SelectField :: select (#{previousJob}, 'membershipTemp.previousJob', ${jobTypes}, false)"/>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-sm-6">
                                                            <input data-th-replace="fragments/SelectField :: select (#{typeOrganization}, 'membershipTemp.typeOrganization', ${organizationTypes}, false)"/>
                                                        </div>
                                                        <div class="col-sm-6">
                                                            <div class="form-group row">
                                                                <label class="col-md-4 control-label text-md-right">ความเชี่ยวชาญพิเศษ<br/>ด้านเกษตร</label>
                                                                <input data-th-replace="fragments/SelectFieldMultiple :: selectMultiple(#{agricultureSpecialty}, 'membershipTemp.agricultureSpecialty', ${specialties}, false)"/>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-6">
                                                            <div class="form-group row">
                                                                <label class="col-md-4 control-label text-md-right">ความสนใจพิเศษ<br/>ด้านเกษตร</label>
                                                                <input data-th-replace="fragments/SelectFieldMultiple :: selectMultiple(#{agricultureInterest}, 'membershipTemp.agricultureInterest', ${specialties}, false)"/>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-6">
                                                            <input data-th-replace="fragments/TextField :: input (#{associate}, 'membershipTemp.associate', false)"/>
                                                        </div>
                                                    </div>


                                                </fieldset>

                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<div data-layout-fragment="script">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap-datepicker-thai-thai/js/bootstrap-datepicker.js"></script>
    <!-- thai extension -->
    <script type="text/javascript" src="/js/bootstrap-datepicker-thai-thai/js/bootstrap-datepicker-thai.js"></script>
    <script type="text/javascript"
            src="/js/bootstrap-datepicker-thai-thai/js/locales/bootstrap-datepicker.th.js"></script>
    <script data-th-inline="javascript">
        /*<![CDATA[*/
        $(function () {
            function pageLoad() {
                var id = /*[[${member.id}]]*/null;
                $(".select2").each(function () {
                    $(this).select2($(this).data());
                });
                $('.datepicker').datepicker({language: 'th-th', format: 'dd/mm/yyyy'})
                var getAction = function () {
                    $.ajax({
                        url: '/member/' + id + '/action',
                        success: function (data) {
                            $('#theform').attr('action', data)
                        }
                    })
                };
                getAction();
                setInterval(getAction, 5 * 60 * 1000);

            }

            pageLoad();
            SingApp.onPageLoad(pageLoad);
        });
        /*]]>*/
    </script>
</div>
</body>
</html>